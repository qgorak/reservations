{{> include/header}}
{{> include/menu/menu}}
<v-container div="container" style="height: 100%;">
   <h1><%lodgement.title%></h1>
   <v-carousel hide-delimiters>
      <v-carousel-item
         v-for="(item,i) in images"
         :key="i"
         :src="item.src"
         ></v-carousel-item>
   </v-carousel>
   <v-divider></v-divider>
   <H2>
      <%lodgement.type%>. Hote: <%host.login%>                      
      <v-avatar
      	 v-if="host.avatar!=null"
         color="WhiteSmoke"
         size="56">        <img
         v-bind:src="host.avatar"
         alt="John"
         ></v-avatar>
         <v-avatar
         		v-if="host.initials!=null"
                color="brown"
                size="48"
              >
                <span class="white--text headline"><% host.initials%> </span>
              </v-avatar>
   </H2>
   <H3><%lodgement.nbr_place%> voyageurs, <%lodgement.nbr_room%> pièce(s)</H3>
   <v-divider></v-divider>
   <v-row
      class="mb-6"
      no-gutters
      >
      <v-col
         cols="8"
         >
         <%lodgement.description%>
      </v-col>
      <v-col
         cols="4"
         >
         <v-card
            class="mx-auto"
            max-width="344"
            outlined
            >
            <v-list-item three-line>
               <v-list-item-content>
                  <%lodgement.price%> € la nuit
                  <v-date-picker 
                     v-model="dates"
                     range
                     :min="date"
                     width="auto"
                     no-title
                     ></v-date-picker>
                  <v-select    
                     :items="nb"
                     v-model="nbTravellers"
                     label="Voyageurs"
                     ></v-select>
               </v-list-item-content>
            </v-list-item>
            <v-divider></v-divider>
            <v-card-actions>
               <v-btn
                  outlined
                  width="100%"
                  rounded
                  @click="reservationModal = true"
                  text
                  >
                  Reserver
               </v-btn>
            </v-card-actions>
         </v-card>
      </v-col>
   </v-row>
   <v-dialog
      v-model="reservationModal"
      fullscreen
      hide-overlay
      >
      <v-card>
      <v-container style="background:white;">
         <v-btn
            icon
            @click="reservationModal = false"
            >
            <v-icon>mdi-close</v-icon>
         </v-btn>
         <v-row
            class="mb-6"
            no-gutters
            >
            <v-col
               cols="6"
               >
               <h1>Confirmez et payer</h1>
               <v-divider></v-divider>
            </v-col>
         </v-row>
         <v-row
            class="mb-6"
            no-gutters
            >
            <v-col
               cols="6"
               >
               <H2>Votre voyage:</H2>
               <H3>Dates:</H3>
               <%dates[0]%> au <%dates[1]%>
               <H3>Voyageurs:</H3>
               <%nbTravellers%>
               <v-divider></v-divider>
               <H3>Requis:</H3>
               <v-textarea
                  rounded
                  label="Envoyez un message à l'hôte"
                  value="Communiquez votre heure d'arrivée et le motif de votre voyage à votre hôte."
                  outlined
                  ></v-textarea>
               <v-btn
                  color="primary"
                  @click="postReservation()"
                  >
                  Payer
               </v-btn>
            </v-col>
            <v-col
               cols="5"
               >
               <v-card rounded outlined>
                  <v-list-item-content><%lodgement.type%></v-list-item-content>
                  <v-list-item-content><%lodgement.title%></v-list-item-content>
                  <v-carousel hide-delimiters height="200">
                     <v-carousel-item
                        v-for="(item,i) in images"
                        :key="i"
                        :src="item.src"
                        ></v-carousel-item>
                  </v-carousel>
                  <v-divider></v-divider>
                  <v-list-item-content>
                     <H3>Details du prix</H3>
                  </v-list-item-content>
                  <v-list-item-content><%lodgement.price%></v-list-item-content>
            </v-col>
         </v-row>
      </v-container>
      </v-card>
   </v-dialog>
</v-container>
{{> include/footer}}